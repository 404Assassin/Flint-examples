<?xml version="1.0" encoding="UTF-8"?>
<project name="Flint Build Scripts" default="all">
	
	<property file="build.config"/>
	
	<target name="all" depends="examples2D,flex2D,examples3D,flex3D,papervision3D,away3D3,away3D4,flare3D,alternative3D" description="Full build of all Flex and PureAS3 examples"/>
		
	<target name="examples2D" description="Build 2D examples">
		<antcall target="buildPure2d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='CatherineWheel'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='ExplodeImage'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='Firework'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='Flocking'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='Grass'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='GravityWells'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='LogoFirework'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='LogoOnFire'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='LogoTween'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='MutualGravity'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='Pachinko'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='Rain'/>
		</antcall>
		<antcall target="buildPure2dWithAssets">
			<param name="name" value='Snowfall'/>
		</antcall>
		<antcall target="buildPure2d">
			<param name="name" value='Sparkler'/>
		</antcall>
	</target>

	<target name="examples3D" description="Build 3D examples">
		<antcall target="buildPure3d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildPure3dWithAssets">
			<param name="name" value='ExplodeImage'/>
		</antcall>
		<antcall target="buildPure3dWithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<antcall target="buildPure3d">
			<param name="name" value='FireworkDisplay'/>
		</antcall>
		<antcall target="buildPure3dWithAssets">
			<param name="name" value='Flocking'/>
		</antcall>
		<antcall target="buildPure3d">
			<param name="name" value='Fountain'/>
		</antcall>
	</target>

	<target name="flex2D" description="Build Flex 2D examples">
		<antcall target="buildFlex2d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildFlex2d">
			<param name="name" value='CatherineWheel'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='ExplodeImage'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<antcall target="buildFlex2d">
			<param name="name" value='Firework'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='Flocking'/>
		</antcall>
		<antcall target="buildFlex2d">
			<param name="name" value='Grass'/>
		</antcall>
		<antcall target="buildFlex2d">
			<param name="name" value='GravityWells'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='LogoFirework'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='LogoOnFire'/>
		</antcall>
		<antcall target="buildFlex2d">
			<param name="name" value='MutualGravity'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='Rain'/>
		</antcall>
		<antcall target="buildFlex2dWithAssets">
			<param name="name" value='Snowfall'/>
		</antcall>
		<antcall target="buildFlex2d">
			<param name="name" value='Sparkler'/>
		</antcall>
	</target>

	<target name="flex3D" description="Build Flex 3D examples">
		<antcall target="buildFlex3d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildFlex3dWithAssets">
			<param name="name" value='ExplodeImage'/>
		</antcall>
		<antcall target="buildFlex3dWithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<antcall target="buildFlex3d">
			<param name="name" value='FireworkDisplay'/>
		</antcall>
		<antcall target="buildFlex3dWithAssets">
			<param name="name" value='Flocking'/>
		</antcall>
		<antcall target="buildFlex3d">
			<param name="name" value='Fountain'/>
		</antcall>
	</target>

	<target name="papervision3D" description="Build Papervision 3D examples">
		<antcall target="buildPapervision3d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildPapervision3dWithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<antcall target="buildPapervision3d">
			<param name="name" value='Fountain'/>
		</antcall>
	</target>

	<target name="away3D3" description="Build Away 3D 3 examples">
		<antcall target="buildAway3d3">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildAway3d3WithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
	</target>
	
	<target name="away3D4" description="Build Away 3D 4 examples">
		<!--<antcall target="buildAway3d4">
			<param name="name" value='BrownianMotion'/>
		</antcall>-->
		<antcall target="buildAway3d4WithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<!--<antcall target="buildAway3d4">
			<param name="name" value='Planets'/>
		</antcall>-->
	</target>
	
	<target name="flare3D" description="Build Flare 3D examples">
		<antcall target="buildFlare3d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildFlare3d">
			<param name="name" value='Planets'/>
		</antcall>
	</target>
	
	<target name="alternative3D" description="Build Alternativa 3D examples">
		<antcall target="buildAlternativa3d">
			<param name="name" value='BrownianMotion'/>
		</antcall>
		<antcall target="buildAlternativa3dWithAssets">
			<param name="name" value='FireAndSmoke'/>
		</antcall>
		<antcall target="buildAlternativa3d">
			<param name="name" value='Planets'/>
		</antcall>
	</target>
	
	<target name="buildPure2d">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint2d.swc}"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples2D/${name}/PureAS3/${name}.swf'/>
			<arg line='../examples2D/${name}/PureAS3/MainPlus.as'/>
		</exec>
	</target>
	
	<target name="buildPure2dWithAssets">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint2d.swc}"'/>
			<arg line='-library-path+="../examples2D/${name}/PureAS3/assets/Assets.swc"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples2D/${name}/PureAS3/${name}.swf'/>
			<arg line='../examples2D/${name}/PureAS3/MainPlus.as'/>
		</exec>
	</target>
	
	<target name="buildPure3d">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/PureAS3/${name}.swf'/>
			<arg line='../examples3D/${name}/PureAS3/MainPlus.as'/>
		</exec>
	</target>
	
	<target name="buildPure3dWithAssets">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/PureAS3/assets/Assets.swc"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/PureAS3/${name}.swf'/>
			<arg line='../examples3D/${name}/PureAS3/MainPlus.as'/>
		</exec>
	</target>
	
	<target name="buildFlex2d">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint2d.swc}"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples2D/${name}/Flex/${name}.swf'/>
			<arg line='../examples2D/${name}/Flex/${name}.mxml'/>
		</exec>
	</target>
	
	<target name="buildFlex2dWithAssets">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint2d.swc}"'/>
			<arg line='-library-path+="../examples2D/${name}/Flex/assets/Assets.swc"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples2D/${name}/Flex/${name}.swf'/>
			<arg line='../examples2D/${name}/Flex/${name}.mxml'/>
		</exec>
	</target>
	
	<target name="buildFlex3d">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Flex/${name}.swf'/>
			<arg line='../examples3D/${name}/Flex/${name}.mxml'/>
		</exec>
	</target>
	
	<target name="buildFlex3dWithAssets">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/Flex/assets/Assets.swc"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Flex/${name}.swf'/>
			<arg line='../examples3D/${name}/Flex/${name}.mxml'/>
		</exec>
	</target>
	
	<target name="buildPapervision3d">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintPV3d.swc}"'/>
			<arg line='-library-path+="${papervision3d.swc}"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Papervision3D/${name}.swf'/>
			<arg line='../examples3D/${name}/Papervision3D/Main.as'/>
		</exec>
	</target>
	
	<target name="buildPapervision3dWithAssets">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintPV3d.swc}"'/>
			<arg line='-library-path+="${papervision3d.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/Papervision3D/assets/Assets.swc"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Papervision3D/${name}.swf'/>
			<arg line='../examples3D/${name}/Papervision3D/Main.as'/>
		</exec>
	</target>
	
	<target name="buildAway3d3">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintA3d3.swc}"'/>
			<arg line='-library-path+="${away3d3.swc}"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Away3d3/${name}.swf'/>
			<arg line='../examples3D/${name}/Away3d3/Main.as'/>
		</exec>
	</target>
	
	<target name="buildAway3d3WithAssets">
		<exec executable="${mxmlc}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintA3d3.swc}"'/>
			<arg line='-library-path+="${away3d3.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/Away3d3/assets/Assets.swc"'/>

			<arg line='-target-player 10.0.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Away3d3/${name}.swf'/>
			<arg line='../examples3D/${name}/Away3d3/Main.as'/>
		</exec>
	</target>
	
	<target name="buildAway3d4">
		<exec executable="${mxmlc.molehill}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintA3d4.swc}"'/>
			<arg line='-library-path+="${away3d4.swc}"'/>

			<arg line='-swf-version=13'/>
			<arg line='-target-player 10.2.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Away3d4/${name}.swf'/>
			<arg line='../examples3D/${name}/Away3d4/Main.as'/>
		</exec>
	</target>
	
	<target name="buildAway3d4WithAssets">
		<exec executable="${mxmlc.molehill}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintA3d4.swc}"'/>
			<arg line='-library-path+="${away3d4.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/Away3d4/assets/Assets.swc"'/>

			<arg line='-swf-version=13'/>
			<arg line='-target-player 10.2.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Away3d4/${name}.swf'/>
			<arg line='../examples3D/${name}/Away3d4/Main.as'/>
		</exec>
	</target>
	
	<target name="buildFlare3d">
		<exec executable="${mxmlc.molehill}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintFlare3d.swc}"'/>
			<arg line='-library-path+="${flare3d.swc}"'/>

			<arg line='-swf-version=13'/>
			<arg line='-target-player 10.2.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Flare3d/${name}.swf'/>
			<arg line='../examples3D/${name}/Flare3d/Main.as'/>
		</exec>
	</target>
	
	<target name="buildFlare3dWithAssets">
		<exec executable="${mxmlc.molehill}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintFlare3d.swc}"'/>
			<arg line='-library-path+="${flare3d.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/Flare3d/assets/Assets.swc"'/>

			<arg line='-swf-version=13'/>
			<arg line='-target-player 10.2.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Flare3d/${name}.swf'/>
			<arg line='../examples3D/${name}/Flare3d/Main.as'/>
		</exec>
	</target>
	
	<target name="buildAlternativa3d">
		<exec executable="${mxmlc.molehill}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintAlt3d.swc}"'/>
			<arg line='-library-path+="${alternativa3d.swc}"'/>

			<arg line='-swf-version=13'/>
			<arg line='-target-player 10.2.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Alternativa3d/${name}.swf'/>
			<arg line='../examples3D/${name}/Alternativa3d/Main.as'/>
		</exec>
	</target>
	
	<target name="buildAlternativa3dWithAssets">
		<exec executable="${mxmlc.molehill}" failonerror="false">
			<arg line='-debug=false'/>
			<arg line='-optimize=true'/>
			<arg line='-static-link-runtime-shared-libraries=true'/>

			<arg line='-library-path+="${flint3d.swc}"'/>
			<arg line='-library-path+="${flintAlt3d.swc}"'/>
			<arg line='-library-path+="${alternativa3d.swc}"'/>
			<arg line='-library-path+="../examples3D/${name}/Alternativa3d/assets/Assets.swc"'/>

			<arg line='-swf-version=13'/>
			<arg line='-target-player 10.2.0.0'/>
			<arg line='-title "Flint particles example - flintparticles.org"'/>
			<arg line='-creator "Richard Lord"'/>

			<arg line='-output ../examples3D/${name}/Alternativa3d/${name}.swf'/>
			<arg line='../examples3D/${name}/Alternativa3d/Main.as'/>
		</exec>
	</target>
</project>